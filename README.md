# 時間停止シューティングゲーム "Chronogun"

## ゲーム概要
見下ろし型（トップダウンビュー）のアクションシューティングゲームです。
プレイヤーはキャラクターを操作し、次々と現れる敵を倒しながらステージ奥にある脱出ポイント（EXIT）を目指します。
全8ステージ構成で、最終ステージには巨大なボスがいます。

## 操作方法
* **移動**: マウス左クリック
* **照準**: マウスカーソル
* **攻撃**: `Space`キー + マウス左クリック
* **リトライ**: ゲームオーバー/クリア画面で `R` キー

## ゲームのルール
* **勝利条件**: ステージにある「EXIT」アイコンに到達する、もしくはステージ上の敵を全滅させると次のステージへ進みます。ステージ8のボスを倒すとゲームクリアです。
* **敗北条件**: 敵の攻撃を受けてHPが0になるとゲームオーバーです。
* **アイテム**:
    * **HP回復**: ハートマークのアイテムを取得するとHPが10回復します。
    * **武器ボックス**: 銃のマークの箱を拾うと、マークの通りの武器に切り替わります。

## 武器一覧 (Weapons)
プレイヤーが使用できる武器の仕様です。状況に応じて使い分けましょう。

* **Pistol (ピストル)**
    * 初期装備。威力、連射速度ともに標準的でよわい武器。
* **Shotgun (ショットガン)**
    * 一度に5発の散弾を発射する。射程は短いが、近距離での制圧力は非常に高い。
* **Rifle (ライフル)**
    * 弾速が非常に速く、敵を貫通する特性を持つ。遠距離からの狙撃に向いている。
* **SMG (サブマシンガン)**
    * 一度の攻撃で5発の弾を連射する。バラつきがあるため精度は低いが、弾幕を張れる。
* **RPG (ロケットランチャー)**
    * 着弾または敵に命中すると爆発し、周囲の敵を巻き込んで大ダメージを与える。
* **Blade (ブレード)**
    * 近接攻撃武器。射程は非常に短いが威力が高い。振った範囲の敵をまとめて攻撃できる。壁も貫通しちゃう。
* **Railgun (レールガン)**
    * 最強の武器。1回目のクリックでチャージし、2回目で発射する。壁も敵も全て貫通するレーザーを放つ。強すぎるのでスポーンしないようにして、railgunとキーボードで打った時のみ装備できるようにしました。チートモード的な扱い。
* **Ricochet (リコシェ)**
    * 壁に当たると反射する特殊な弾を発射する（3回まで反射）。入り組んだ通路で有利。なぜか反射しないこともあります。
* **Mine (地雷)**
    * その場に設置する。敵が踏むと爆発し、周囲に大ダメージを与える。

## 敵キャラクター (Enemies)
登場する敵キャラクターの特徴です。

* **Normal (ノーマル)**
    * 標準的な敵。プレイヤーを発見すると近づいて単発の弾を撃ってくる。
* **Sniper (スナイパー)**
    * 射程が長く、弾速の速い弾を撃ってくる。遠くからでも油断できない。
* **Fighter (ファイター)**
    * 弾は撃たず、移動速度を活かして体当たり攻撃をしてくる。耐久力がやや高い。
* **Assassin (アサシン)**
    * 非常に移動速度が速い近接タイプ。一気に距離を詰めてくるため優先して倒したい。
* **Rapid (ラピッド)**
    * 連射性能が高い敵。一度に多数の弾をばら撒いてくる。
* **Bomber (ボマー)**
    * プレイヤーに特攻してくる。倒されるかプレイヤーに接触すると自爆し、広範囲にダメージを与える危険な敵。
* **Shielder (シールダー)**
    * 正面の色の違う部分は攻撃を無効化する。回り込むか、爆発などの範囲攻撃で対処する必要がある。
* **Ghost (ゴースト)**
    * 壁をすり抜けて移動できる。障害物を無視して最短距離でプレイヤーに向かってくる。
* **Summoner (サモナー)**
    * 攻撃はしてこないが、逃げ回りながら他の敵（nomalとrapid）を召喚し続ける。放置すると敵が増え続ける。
* **Turret (タレット)**
    * 移動しない固定砲台。プレイヤーを認識すると強力なチャージレーザーを放つ。
* **Boss (ボス)**
    * 最終ステージに登場する巨大な敵。圧倒的なHPを持ち、全方位弾幕や雑魚敵の召喚など、多彩な攻撃パターンを持つ。

## 工夫した点
* **視覚効果（エフェクト）**:
    着弾時のパーティクル、爆発エフェクトなどを実装し、爽快感が出るように工夫しました。また、プレイヤーのエイムラインを表示することで、狙いやすくしました。
* **武器のバリエーション**:
    ピストル、ショットガン、レールガンなど射程や威力、弾丸の仕様の異なる武器を多数実装しました。特にレールガンはチャージ式にし、強力な一撃を放てるように差別化しました。
* **敵のバリエーション**:
    ノーマル、スナイパー、ファイター、アサシン、ラピッド、ボンバー、シールダー、ゴースト、サモナー、タレット、ボスらの、多様な敵を実装しました。特に前面が攻撃を受け付けないシールダー、仲間を召喚するサモナーなどがお気に入りです。異なる行動パターンを持つ敵を作成し、難易度を上げ、単調にならないようにしました。

## 苦労した点
* **経路探索アルゴリズム**:
    敵が壁に引っかからずにプレイヤーを追いかける動きを作るため、A*（エースター）アルゴリズムなるものを導入してみました。処理が重くなりすぎないよう、探索の深さや頻度を調整するのに苦労しました。
* **当たり判定と壁の処理**:
    高速で移動する弾丸が壁をすり抜けてしまったり、キャラクターが壁に埋まってしまったりするバグの修正に時間がかかりました。移動を細かく分割して判定することで解決しました。

## 実行方法
以下のコマンドで実行してください。

```bash
python3 main.py
